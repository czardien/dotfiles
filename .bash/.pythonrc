PYVENVS=~/.venvs

# Just needs a python3 installation
pyvenv () {
  local name
  name=$1

  [ -d $PYVENVS/$name ] && echo "Virtual environment '$name' already exists at: $PYVENVS/$name" && return 1

  mkdir -p $PYVENVS && \
  python3 -m venv $PYVENVS/$name && \
  echo -e "alias activate-$name='source $PYVENVS/$name/bin/activate'" >> $PYVENVS/.aliasrc

  # Update PS1 to something pretty
  echo -e "PS1=\"\[\033[0;36m\]$name\[\033[m\] ❯ $PS1\"" >> $PYVENVS/$name/bin/activate
}

# Above populates below sourced script
[ -f $PYVENVS/.aliasrc ] && source $PYVENVS/.aliasrc
